{"version":3,"file":"index-DX5N_sfH.js","sources":["../../src/pages/plans/new/PlansNewPage.tsx"],"sourcesContent":["import { useState } from 'react'\n\nimport { useNavigate } from 'react-router-dom'\n\nimport { createTrainingPlan } from '@/api/trainingPlans'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { routes } from '@/routes'\n\nimport { PlanForm, formDataToPlanInsert, type PlanFormData } from '../components'\n\nexport function PlansNewPage() {\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  async function handleSubmit(data: PlanFormData) {\n    if (!data.name.trim()) {\n      setError('계획 이름을 입력해주세요.')\n      return\n    }\n    if (!data.unitName.trim()) {\n      setError('훈련 단위를 입력해주세요.')\n      return\n    }\n    if (data.scheduleType === 'weekly' && data.scheduleDays.length === 0) {\n      setError('훈련 요일을 선택해주세요.')\n      return\n    }\n\n    try {\n      setLoading(true)\n      setError(null)\n      await createTrainingPlan(formDataToPlanInsert(data, user!.id))\n      navigate(routes.plans.$())\n    } catch (err) {\n      setError('계획 생성에 실패했습니다.')\n      // eslint-disable-next-line no-console\n      console.error(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function handleCancel() {\n    navigate(routes.plans.$())\n  }\n\n  return (\n    <PlanForm\n      onSubmit={handleSubmit}\n      onCancel={handleCancel}\n      loading={loading}\n      error={error}\n      title=\"새 훈련 계획\"\n      submitLabel=\"계획 생성\"\n      loadingLabel=\"생성 중...\"\n    />\n  )\n}\n"],"names":["useState","jsx"],"mappings":";;;;;;;;;;;;;;;;AAUO,SAAS,eAAe;AAC7B,QAAM,WAAW,YAAA;AACjB,QAAM,EAAE,KAAA,IAAS,QAAA;AACjB,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,KAAK;AAC5C,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAAwB,IAAI;AAEtD,iBAAe,aAAa,MAAoB;AAC9C,QAAI,CAAC,KAAK,KAAK,QAAQ;AACrB,eAAS,gBAAgB;AACzB;AAAA,IACF;AACA,QAAI,CAAC,KAAK,SAAS,QAAQ;AACzB,eAAS,gBAAgB;AACzB;AAAA,IACF;AACA,QAAI,KAAK,iBAAiB,YAAY,KAAK,aAAa,WAAW,GAAG;AACpE,eAAS,gBAAgB;AACzB;AAAA,IACF;AAEA,QAAI;AACF,iBAAW,IAAI;AACf,eAAS,IAAI;AACb,YAAM,mBAAmB,qBAAqB,MAAM,KAAM,EAAE,CAAC;AAC7D,eAAS,OAAO,MAAM,GAAG;AAAA,IAC3B,SAAS,KAAK;AACZ,eAAS,gBAAgB;AAEzB,cAAQ,MAAM,GAAG;AAAA,IACnB,UAAA;AACE,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,WAAS,eAAe;AACtB,aAAS,OAAO,MAAM,GAAG;AAAA,EAC3B;AAEA,SACEC,kCAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU;AAAA,MACV,UAAU;AAAA,MACV;AAAA,MACA;AAAA,MACA,OAAM;AAAA,MACN,aAAY;AAAA,MACZ,cAAa;AAAA,IAAA;AAAA,EAAA;AAGnB;"}