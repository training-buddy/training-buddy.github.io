{"version":3,"file":"index-CF9HA6hP.js","sources":["../../src/pages/home/HomePage.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { FitnessCenter as FitnessCenterIcon } from '@mui/icons-material'\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  CircularProgress,\n  Chip,\n} from '@mui/material'\n\nimport { getTrainingPlans } from '@/api/trainingPlans'\nimport { LoginButton } from '@/components/LoginButton'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { routes } from '@/routes'\nimport type { TrainingPlan } from '@/types/database'\nimport { getTodaysPlans, getWeekDayLabel } from '@/utils/schedule'\n\nexport function HomePage() {\n  const { user } = useAuth()\n  const [todaysPlans, setTodaysPlans] = useState<TrainingPlan[]>([])\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (user) {\n      loadTodaysPlans()\n    }\n  }, [user])\n\n  async function loadTodaysPlans() {\n    try {\n      setLoading(true)\n      const plans = await getTrainingPlans()\n      setTodaysPlans(getTodaysPlans(plans))\n    } catch {\n      // Silently fail\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const todayStr = new Date().toLocaleDateString('ko-KR', {\n    month: 'long',\n    day: 'numeric',\n    weekday: 'short',\n  })\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ my: 4, textAlign: 'center' }}>\n        {user ? (\n          <>\n            {/* Today's Training Section */}\n            <Paper elevation={3} sx={{ p: 3, textAlign: 'left' }}>\n              <Typography variant=\"h6\" gutterBottom>\n                üìÖ Ïò§ÎäòÏùò ÌõàÎ†® ({todayStr})\n              </Typography>\n              {loading ? (\n                <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\n                  <CircularProgress size={24} />\n                </Box>\n              ) : todaysPlans.length === 0 ? (\n                <Typography color=\"text.secondary\" sx={{ py: 2, textAlign: 'center' }}>\n                  Ïò§Îäò ÏòàÏ†ïÎêú ÌõàÎ†®Ïù¥ ÏóÜÏäµÎãàÎã§\n                </Typography>\n              ) : (\n                <List disablePadding>\n                  {todaysPlans.map((plan) => (\n                    <ListItem key={plan.id} disablePadding>\n                      <ListItemButton\n                        component={Link}\n                        to={routes.executions.new.$({ planId: plan.id })}\n                      >\n                        <ListItemIcon>\n                          <FitnessCenterIcon color=\"primary\" />\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={plan.name}\n                          secondary={`${plan.unit_amount} ${plan.unit_name}`}\n                        />\n                        <Chip\n                          label={\n                            plan.schedule_type === 'daily'\n                              ? 'Îß§Ïùº'\n                              : plan.schedule_days?.map(getWeekDayLabel).join(', ')\n                          }\n                          size=\"small\"\n                          variant=\"outlined\"\n                        />\n                      </ListItemButton>\n                    </ListItem>\n                  ))}\n                </List>\n              )}\n            </Paper>\n          </>\n        ) : (\n          <Paper elevation={3} sx={{ p: 3, mt: 3 }}>\n            <Typography variant=\"body1\" sx={{ mb: 3 }}>\n              ÏãúÏûëÌïòÎ†§Î©¥ Î°úÍ∑∏Ïù∏ÌïòÏÑ∏Ïöî\n            </Typography>\n            <LoginButton />\n          </Paper>\n        )}\n      </Box>\n    </Container>\n  )\n}\n"],"names":["useState","useEffect","jsx","Fragment","jsxs","FitnessCenterIcon"],"mappings":";;;;;;;;;;AA0BO,SAAS,WAAW;AACzB,QAAM,EAAE,KAAA,IAAS,QAAA;AACjB,QAAM,CAAC,aAAa,cAAc,IAAIA,aAAAA,SAAyB,CAAA,CAAE;AACjE,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,KAAK;AAE5CC,eAAAA,UAAU,MAAM;AACd,QAAI,MAAM;AACR,sBAAA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,IAAI,CAAC;AAET,iBAAe,kBAAkB;AAC/B,QAAI;AACF,iBAAW,IAAI;AACf,YAAM,QAAQ,MAAM,iBAAA;AACpB,qBAAe,eAAe,KAAK,CAAC;AAAA,IACtC,QAAQ;AAAA,IAER,UAAA;AACE,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,QAAM,YAAW,oBAAI,KAAA,GAAO,mBAAmB,SAAS;AAAA,IACtD,OAAO;AAAA,IACP,KAAK;AAAA,IACL,SAAS;AAAA,EAAA,CACV;AAED,SACEC,kCAAAA,IAAC,WAAA,EAAU,UAAS,MAClB,UAAAA,kCAAAA,IAAC,OAAI,IAAI,EAAE,IAAI,GAAG,WAAW,SAAA,GAC1B,UAAA,OACCA,kCAAAA,IAAAC,kBAAAA,UAAA,EAEE,UAAAC,kCAAAA,KAAC,OAAA,EAAM,WAAW,GAAG,IAAI,EAAE,GAAG,GAAG,WAAW,OAAA,GAC1C,UAAA;AAAA,IAAAA,kCAAAA,KAAC,YAAA,EAAW,SAAQ,MAAK,cAAY,MAAC,UAAA;AAAA,MAAA;AAAA,MACxB;AAAA,MAAS;AAAA,IAAA,GACvB;AAAA,IACC,gDACE,KAAA,EAAI,IAAI,EAAE,SAAS,QAAQ,gBAAgB,UAAU,IAAI,KACxD,UAAAF,kCAAAA,IAAC,oBAAiB,MAAM,GAAA,CAAI,GAC9B,IACE,YAAY,WAAW,IACzBA,kCAAAA,IAAC,cAAW,OAAM,kBAAiB,IAAI,EAAE,IAAI,GAAG,WAAW,YAAY,UAAA,kBAAA,CAEvE,0CAEC,MAAA,EAAK,gBAAc,MACjB,UAAA,YAAY,IAAI,CAAC,SAChBA,sCAAC,UAAA,EAAuB,gBAAc,MACpC,UAAAE,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW;AAAA,QACX,IAAI,OAAO,WAAW,IAAI,EAAE,EAAE,QAAQ,KAAK,IAAI;AAAA,QAE/C,UAAA;AAAA,UAAAF,sCAAC,cAAA,EACC,UAAAA,kCAAAA,IAACG,eAAA,EAAkB,OAAM,WAAU,GACrC;AAAA,UACAH,kCAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAW,GAAG,KAAK,WAAW,IAAI,KAAK,SAAS;AAAA,YAAA;AAAA,UAAA;AAAA,UAElDA,kCAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACC,OACE,KAAK,kBAAkB,UACnB,OACA,KAAK,eAAe,IAAI,eAAe,EAAE,KAAK,IAAI;AAAA,cAExD,MAAK;AAAA,cACL,SAAQ;AAAA,YAAA;AAAA,UAAA;AAAA,QACV;AAAA,MAAA;AAAA,IAAA,KApBW,KAAK,EAsBpB,CACD,EAAA,CACH;AAAA,EAAA,EAAA,CAEJ,EAAA,CACF,IAEAE,kCAAAA,KAAC,OAAA,EAAM,WAAW,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,EAAA,GACnC,UAAA;AAAA,IAAAF,kCAAAA,IAAC,YAAA,EAAW,SAAQ,SAAQ,IAAI,EAAE,IAAI,EAAA,GAAK,UAAA,eAAA,CAE3C;AAAA,0CACC,aAAA,CAAA,CAAY;AAAA,EAAA,EAAA,CACf,GAEJ,GACF;AAEJ;"}