{"version":3,"file":"index-CRniXqne.js","sources":["../../node_modules/@mui/material/esm/DialogContentText/dialogContentTextClasses.js","../../node_modules/@mui/material/esm/DialogContentText/DialogContentText.js","../../src/pages/plans/detail/PlansDetailPage.tsx"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nconst dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport Typography from \"../Typography/index.js\";\nimport { getDialogContentTextUtilityClass } from \"./dialogContentTextClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  const composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return {\n    ...classes,\n    // forward classes to the Typography\n    ...composedClasses\n  };\n};\nconst DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root'\n})({});\nconst DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n  const {\n    children,\n    className,\n    ...ownerState\n  } = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, {\n    component: \"p\",\n    variant: \"body1\",\n    color: \"textSecondary\",\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ...props,\n    classes: classes\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContentText;","import { useEffect, useState } from 'react'\n\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\nimport {\n  // Delete as DeleteIcon,\n  // Edit as EditIcon,\n  // PlayArrow as PlayIcon,\n  ArrowBack as BackIcon,\n} from '@mui/icons-material'\nimport {\n  Box,\n  Typography,\n  Button,\n  Paper,\n  Stack,\n  Chip,\n  CircularProgress,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n} from '@mui/material'\n\nimport { getTrainingPlan, deleteTrainingPlan } from '@/api/trainingPlans'\nimport { routes } from '@/routes'\nimport type { TrainingPlan } from '@/types/database'\nimport {\n  calculateTotalSessions,\n  calculateEndDate,\n  formatDate,\n  getWeekDayLabel,\n} from '@/utils/schedule'\n\nexport function PlansDetailPage() {\n  const { id } = useParams<{ id: string }>()\n  const navigate = useNavigate()\n  const [plan, setPlan] = useState<TrainingPlan | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\n  const [deleting, setDeleting] = useState(false)\n\n  useEffect(() => {\n    if (id) {\n      loadPlan(Number(id))\n    }\n  }, [id])\n\n  async function loadPlan(planId: number) {\n    try {\n      setLoading(true)\n      const data = await getTrainingPlan(planId)\n      setPlan(data)\n    } catch (err) {\n      setError('훈련 계획을 불러오는데 실패했습니다.')\n      // eslint-disable-next-line no-console\n      console.error(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function handleDelete() {\n    if (!plan) return\n\n    try {\n      setDeleting(true)\n      await deleteTrainingPlan(plan.id)\n      navigate(routes.plans.$())\n    } catch (err) {\n      setError('삭제에 실패했습니다.')\n      // eslint-disable-next-line no-console\n      console.error(err)\n    } finally {\n      setDeleting(false)\n      setDeleteDialogOpen(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n        <CircularProgress />\n      </Box>\n    )\n  }\n\n  if (error) {\n    return <Alert severity=\"error\">{error}</Alert>\n  }\n\n  if (!plan) {\n    return <Alert severity=\"warning\">훈련 계획을 찾을 수 없습니다.</Alert>\n  }\n\n  const totalSessions = calculateTotalSessions(plan)\n  const endDate = calculateEndDate(plan)\n\n  return (\n    <Box>\n      <Button component={Link} to={routes.plans.$()} startIcon={<BackIcon />} sx={{ mb: 2 }}>\n        목록으로\n      </Button>\n\n      <Paper sx={{ p: 3 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {plan.name}\n        </Typography>\n\n        <Stack spacing={2} sx={{ mt: 3 }}>\n          <Box>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              훈련 단위\n            </Typography>\n            <Stack direction=\"row\" spacing={1} sx={{ mt: 0.5 }}>\n              <Chip label={`${plan.unit_amount} ${plan.unit_name}/회`} />\n              <Chip label={`총 ${plan.total_amount} ${plan.unit_name}`} variant=\"outlined\" />\n            </Stack>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              훈련 주기\n            </Typography>\n            <Typography>\n              {plan.schedule_type === 'daily'\n                ? '매일'\n                : `매주 ${plan.schedule_days?.map(getWeekDayLabel).join(', ')}`}\n            </Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">\n              훈련 일정\n            </Typography>\n            <Typography>시작일: {formatDate(new Date(plan.start_date))}</Typography>\n            <Typography>예상 종료일: {formatDate(endDate)}</Typography>\n            <Typography>총 훈련 횟수: {totalSessions}회</Typography>\n          </Box>\n        </Stack>\n\n        <Stack direction=\"row\" spacing={2} sx={{ mt: 4 }}>\n          <Button\n            component={Link}\n            to={routes.executions.new.$({ planId: plan.id })}\n            variant=\"contained\"\n            // startIcon={<PlayIcon />}\n          >\n            훈련 시작\n          </Button>\n          <Button\n            component={Link}\n            to={routes.plans.edit.$(plan.id)}\n            variant=\"outlined\"\n            // startIcon={<EditIcon />}\n          >\n            수정\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"error\"\n            // startIcon={<DeleteIcon />}\n            onClick={() => setDeleteDialogOpen(true)}\n          >\n            삭제\n          </Button>\n        </Stack>\n      </Paper>\n\n      <Dialog open={deleteDialogOpen} onClose={() => setDeleteDialogOpen(false)}>\n        <DialogTitle>훈련 계획 삭제</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            \"{plan.name}\" 계획을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setDeleteDialogOpen(false)} disabled={deleting}>\n            취소\n          </Button>\n          <Button onClick={handleDelete} color=\"error\" disabled={deleting}>\n            {deleting ? '삭제 중...' : '삭제'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  )\n}\n"],"names":["React.forwardRef","DialogContentText","useState","useEffect","jsx","jsxs"],"mappings":"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","x_google_ignoreList":[0,1]}